# ============================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================
# This file contains production-ready environment variables
# Copy this to .env.production and fill in your actual values
# NEVER commit .env.production to version control!

# ============================================
# REQUIRED - Core Application Settings
# ============================================

# Environment
NODE_ENV=production

# Server Port (Render sets this automatically)
PORT=5000

# MongoDB Database Connection (REQUIRED)
# Get from: MongoDB Atlas - https://mongodb.com/cloud/atlas
# Format: mongodb+srv://username:password@cluster.mongodb.net/dbname?retryWrites=true&w=majority
# IMPORTANT: URL-encode special characters in password (@ â†’ %40, : â†’ %3A, etc.)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/cyberawareness?retryWrites=true&w=majority

# JWT Secret for Authentication (REQUIRED)
# Generate with: openssl rand -base64 64
# CRITICAL: Must be 64+ characters, random, and kept secret
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_64_CHARS_LONG_GENERATE_WITH_OPENSSL

# Session Secret for Express Sessions (REQUIRED)
# Generate with: openssl rand -base64 64
# CRITICAL: Must be 64+ characters, random, and kept secret
SESSION_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_64_CHARS_LONG_GENERATE_WITH_OPENSSL

# Frontend URL for CORS (REQUIRED)
# Set to your deployed frontend URL (Vercel, Netlify, etc.)
# IMPORTANT: No trailing slash!
FRONTEND_URL=https://cyberawareness-iota.vercel.app

# ============================================
# REQUIRED - Puppeteer Configuration
# ============================================
# Required for URL threat intelligence and screenshot features

# Skip downloading Chromium (use system Chromium on Render)
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true

# Path to Chromium executable on Render
PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium

# ============================================
# RECOMMENDED - AI Scam Detection
# ============================================

# Gemini AI API Key (Recommended for best AI analysis)
# Get from: https://makersuite.google.com/app/apikey
# Without this, system uses fallback pattern-based analysis
GEMINI_API_KEY=your_gemini_api_key_here

# Gemini Model Selection (Optional)
# Options: gemini-1.5-flash (fast), gemini-1.5-pro (accurate)
GEMINI_MODEL=gemini-1.5-flash

# LLM Provider Selection (Optional)
# Options: gemini, chatgpt
LLM_PROVIDER=gemini

# LLM Timeout in milliseconds (Optional)
LLM_TIMEOUT=30000

# ============================================
# OPTIONAL - Additional AI Services
# ============================================

# Google Safe Browsing API (Recommended for URL safety)
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_SAFE_BROWSING_API_KEY=your_google_safe_browsing_api_key

# Hugging Face API Key (Alternative AI provider)
# Get from: https://huggingface.co/settings/tokens
HUGGINGFACE_API_KEY=your_huggingface_api_key

# Hugging Face Model Configuration (Optional)
HUGGINGFACE_TEXT_MODEL=facebook/bart-large-mnli
HUGGINGFACE_URL_MODEL=facebook/bart-large-mnli
HUGGINGFACE_SUMMARY_MODEL=facebook/bart-large-cnn
HUGGINGFACE_TIMEOUT=30000

# ChatGPT/OpenAI API Key (Alternative AI provider)
# Get from: https://platform.openai.com/api-keys
CHATGPT_API_KEY=your_openai_api_key
OPENAI_API_KEY=your_openai_api_key
CHATGPT_MODEL=gpt-4o-mini

# ============================================
# OPTIONAL - URL Threat Intelligence
# ============================================

# VirusTotal API Key
# Get from: https://www.virustotal.com/gui/join-us
VIRUSTOTAL_API_KEY=your_virustotal_api_key

# PhishTank API Key
# Get from: https://www.phishtank.com/api_register.php
PHISHTANK_API_KEY=your_phishtank_api_key

# APIVoid/URLVoid API Key
# Get from: https://www.apivoid.com/api/
APIVOID_API_KEY=your_apivoid_api_key

# ============================================
# OPTIONAL - Firebase (Admin Panel)
# ============================================
# Required only if using Firebase authentication for admin panel
# Get from: Firebase Console > Project Settings > General

VITE_FIREBASE_API_KEY=your_firebase_api_key
VITE_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id

# ============================================
# OPTIONAL - Advanced Configuration
# ============================================

# Allow all origins (DANGEROUS - only for testing)
# NEVER set to true in production!
ALLOW_ALL_ORIGINS=false

# MongoDB Database Name Override (Optional)
# Use if you want to override the database name in connection string
# MONGODB_DBNAME=cyberawareness

# Render Platform Detection (Auto-set by Render)
# RENDER=true
# RENDER_SERVICE_NAME=your-service-name

# ============================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ============================================
#
# Before deploying to production:
# âœ… Set NODE_ENV=production
# âœ… Configure MONGODB_URI with strong password
# âœ… Generate JWT_SECRET with openssl rand -base64 64
# âœ… Generate SESSION_SECRET with openssl rand -base64 64
# âœ… Set FRONTEND_URL to your actual frontend URL
# âœ… Configure Puppeteer variables for Render
# âœ… Add Gemini API key for AI analysis (recommended)
# âœ… Verify all secrets are kept secure
# âœ… Test MongoDB connection
# âœ… Test CORS with frontend
# âœ… Monitor logs after deployment
#
# Security reminders:
# ðŸ”’ Never commit .env.production to git
# ðŸ”’ Use different secrets for dev/prod
# ðŸ”’ Rotate secrets periodically
# ðŸ”’ Keep API keys confidential
# ðŸ”’ Use strong, unique passwords
# ðŸ”’ Enable MongoDB IP whitelist (0.0.0.0/0 for Render)
# ðŸ”’ Monitor for unauthorized access
#
# ============================================
